<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, maximum-scale=1.0, user-scalable=no"/>
  <title>Responsive Scoreboard</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div style="position: absolute; top: 10px; left: 10px; z-index: 1000;">
    <button onclick="document.getElementById('helpPopup').style.display='block'" style="padding: 5px 10px; font-size: 1rem; border: none; border-radius: 5px; background-color: white; color: #333; cursor: pointer; font-weight: bold;">Help</button>
    <button onclick="clearGameData().style.display='block'" style="padding: 5px 10px; font-size: 1rem; border: none; border-radius: 5px; background-color: white; color: #333; cursor: pointer; font-weight: bold;">Clear Score Data</button>
    <button onclick="document.getElementById('historyPopup').style.display='block'" style="padding: 5px 10px; font-size: 1rem; border: none; border-radius: 5px; background-color: white; color: #333; cursor: pointer; font-weight: bold;">History</button>
  </div>

  <div id="historyPopup" class="popup-overlay" onclick="if (event.target === this) this.style.display='none'">
    <div class="popup-content">
      <button class="close-btn" onclick="document.getElementById('historyPopup').style.display='none'">&times;</button>
      <h2>Score History</h2>
      <ul id="logList"></ul>
    </div>
  </div>

  <div style="position: absolute; top: 10px; right: 10px; color: white; font-size: 1rem; z-index: 1000;">
    <label for="playerCount">Players:</label>
    <select id="playerCount" onchange="updatePlayers()">
      <option value="3">3</option>
      <option value="4" selected>4</option>
    </select>
  </div>

  <div style="position: absolute; top: 10px; left: 50%; transform: translateX(-50%); color: white; font-size: 1rem; z-index: 1000; display: flex; gap: 10px; align-items: center;">
    <span>Win Rate:</span> <input type="number" id="winRate" value="3" style="width: 50px;">
    <span>Foul Rate:</span> <input type="number" id="foulRate" value="1" style="width: 50px;">
    <span>BC Rate:</span> <input type="number" id="bcRate" value="5" style="width: 50px;">
  </div>

  <div class="container" id="playerContainer"></div>

  <div id="helpPopup" class="help-popup" style="display: none;" onclick="event.target === this && (this.style.display='none')">
    <div class="help-content">
      <button class="close-btn" onclick="document.getElementById('helpPopup').style.display='none'">&times;</button>
      <h2>How to Use the Scoreboard</h2>
      <ul>
        <li><strong>WIN / LOSE:</strong> Select the winning player with WIN, then the losing player with LOSE. The WIN rate will be applied and turn order updated.</li><br>
        <li><strong>FOUL+ / FOUL-:</strong> First select FOUL+ or FOUL-, then select the opposing player using the opposite button. The FOUL rate will be applied accordingly.</li><br>
        <li><strong>BC:</strong> Apply the BC rate to the selected player, and subtract from all others.</li><br>
        <li><strong>UNDO:</strong> Reverts the most recent changes.</li><br>
        <li><strong>Rates:</strong> Configure WIN, FOUL, and BC rates from the inputs at the top center.</li>
      </ul>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
