<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, maximum-scale=1.0, user-scalable=no"/>
  <title>Responsive Scoreboard</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div style="position: absolute; top: 10px; left: 10px; z-index: 1000;">
    <button onclick="document.getElementById('helpPopup').style.display='block'" style="padding: 5px 10px; font-size: 1rem; border: none; border-radius: 5px; background-color: white; color: #333; cursor: pointer; font-weight: bold;">Help</button>
    <button onclick="clearGameData().style.display='block'" style="padding: 5px 10px; font-size: 1rem; border: none; border-radius: 5px; background-color: white; color: #333; cursor: pointer; font-weight: bold;">Clear Score Data</button>
    <button onclick="document.getElementById('historyPopup').style.display='block'" style="padding: 5px 10px; font-size: 1rem; border: none; border-radius: 5px; background-color: white; color: #333; cursor: pointer; font-weight: bold;">History</button>
  </div>

  <div id="historyPopup" class="popup-overlay" onclick="if (event.target === this) this.style.display='none'">
    <div class="popup-content">
      <button class="close-btn" onclick="document.getElementById('historyPopup').style.display='none'">&times;</button>
      <h2>Score History</h2>
      <ul id="logList"></ul>
    </div>
  </div>

  <div style="position: absolute; top: 10px; right: 10px; color: white; font-size: 1rem; z-index: 1000;">
    <label for="playerCount">Players:</label>
    <select id="playerCount" onchange="updatePlayers()">
      <option value="3">3</option>
      <option value="4" selected>4</option>
    </select>
  </div>

  <div style="position: absolute; top: 10px; left: 50%; transform: translateX(-50%); color: white; font-size: 1rem; z-index: 1000; display: flex; gap: 10px; align-items: center;">
    <span>Win Rate:</span> <input type="number" id="winRate" value="3" style="width: 50px;">
    <span>Foul Rate:</span> <input type="number" id="foulRate" value="1" style="width: 50px;">
    <span>BC Rate:</span> <input type="number" id="bcRate" value="5" style="width: 50px;">
  </div>

  <div class="container" id="playerContainer"></div>

  <div id="helpPopup" class="help-popup" style="display: none;" onclick="event.target === this && (this.style.display='none')">
    <div class="help-content">
      <button class="close-btn" onclick="document.getElementById('helpPopup').style.display='none'">&times;</button>
      <h2>📋 How to Use the Scoreboard</h2>
      <ul class="help-list">
        <li>
          <strong>🏆 WIN / LOSE:</strong><br>
          Click <strong>WIN</strong> for the winner, then <strong>LOSE</strong> for the loser.<br>
          The WIN rate is applied and turn order is updated accordingly.
        </li>
        <li>
          <strong>⚠️ FOUL+ / FOUL-:</strong><br>
          Click <strong>FOUL+</strong> or <strong>FOUL-</strong> on one player, then select the other.<br>
          The FOUL rate will be transferred between them.
        </li>
        <li>
          <strong>🎯 BC (Break & Clear):</strong><br>
          Applies the BC rate to the selected player and subtracts from all others.<br>
          This also updates the turn order as if the player won.
        </li>
        <li>
          <strong>↩️ UNDO:</strong><br>
          Reverts the most recent action including score and turn order.
        </li>
        <li>
          <strong>⚙️ Rates:</strong><br>
          Set the WIN, FOUL, and BC values from the controls at the top center.
        </li>
        <li>
          <strong>📜 History:</strong><br>
          View all score updates, fouls, and BC actions with timestamps.
        </li>
        <li>
          <strong>🧹 Clear Score Data:</strong><br>
          Resets the scoreboard and turn order for a new match.
        </li>
      </ul>
    </div>
  </div>  

  <script src="script.js"></script>
</body>
</html>
